# code-reviewer

ì½”ë“œ ë¦¬ë·° ìë™í™” ë° PR í’ˆì§ˆ ê²€ì¦ ì „ë¬¸ê°€ ìŠ¤í‚¬

## ëª©í‘œ
- ì½”ë“œ í’ˆì§ˆ ìë™ ê²€ì¦
- PR ë¦¬ë·° ìë™í™”
- ì¼ê´€ëœ ì½”ë“œ í‘œì¤€ ìœ ì§€

## íŠ¸ë¦¬ê±° ì¡°ê±´
ë‹¤ìŒ ìƒí™©ì—ì„œ ì´ ìŠ¤í‚¬ì„ ì‹¤í–‰í•©ë‹ˆë‹¤:
- "ì½”ë“œ ë¦¬ë·°", "code review" ìš”ì²­
- `/review [íŒŒì¼ê²½ë¡œ|PRë²ˆí˜¸]` ëª…ë ¹ì–´
- PR ìƒì„± ì „ ê²€ì¦ í•„ìš” ì‹œ
- ì½”ë“œ í’ˆì§ˆ ê²Œì´íŠ¸ ì‹¤í–‰ ì‹œ

## í•µì‹¬ íŒŒì¼
| íŒŒì¼ | ì—­í•  |
|------|------|
| `lib/` | ë©”ì¸ ì†ŒìŠ¤ ì½”ë“œ |
| `test/` | í…ŒìŠ¤íŠ¸ ì½”ë“œ |
| `analysis_options.yaml` | Dart ë¶„ì„ ì„¤ì • |
| `.github/workflows/ci.yml` | CI ì›Œí¬í”Œë¡œìš° |
| `pubspec.yaml` | ì˜ì¡´ì„± ì •ì˜ |

## ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸

### 1. ì½”ë“œ í’ˆì§ˆ
```
â–¡ ëª…í™•í•œ ë„¤ì´ë° (ë³€ìˆ˜, í•¨ìˆ˜, í´ë˜ìŠ¤)
â–¡ ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì¤€ìˆ˜
â–¡ ì¤‘ë³µ ì½”ë“œ ì—†ìŒ
â–¡ ì ì ˆí•œ ì¶”ìƒí™” ìˆ˜ì¤€
â–¡ ë¶ˆí•„ìš”í•œ ë³µì¡ì„± ì—†ìŒ
â–¡ ë§¤ì§ ë„˜ë²„/ìŠ¤íŠ¸ë§ ì œê±°
```

### 2. Clean Architecture ì¤€ìˆ˜
```
â–¡ ë ˆì´ì–´ ì˜ì¡´ì„± ê·œì¹™ ì¤€ìˆ˜
  - presentation â†’ domain (O)
  - domain â†’ data (X)
  - data â†’ presentation (X)
â–¡ EntityëŠ” ìˆœìˆ˜ Dart í´ë˜ìŠ¤
â–¡ UseCaseëŠ” ë‹¨ì¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â–¡ Repository ì¸í„°í˜ì´ìŠ¤ëŠ” domainì— ì •ì˜
```

### 3. Flutter ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤
```
â–¡ const ìƒì„±ì í™œìš©
â–¡ Key íŒŒë¼ë¯¸í„° ì ì ˆíˆ ì‚¬ìš©
â–¡ disposeì—ì„œ ë¦¬ì†ŒìŠ¤ í•´ì œ
â–¡ BuildContext ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©
â–¡ ë¶ˆí•„ìš”í•œ ë¦¬ë¹Œë“œ ë°©ì§€
â–¡ ì ì ˆí•œ ìœ„ì ¯ ë¶„ë¦¬
```

### 4. ì—ëŸ¬ ì²˜ë¦¬
```
â–¡ Failure íƒ€ì… ì ì ˆíˆ ì‚¬ìš©
â–¡ ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬ë¨
â–¡ ì‚¬ìš©ì ì¹œí™”ì  ì—ëŸ¬ ë©”ì‹œì§€
â–¡ Crashlytics ë¡œê¹…
â–¡ ì¬ì‹œë„ ë¡œì§ (í•„ìš”ì‹œ)
```

### 5. ë³´ì•ˆ
```
â–¡ ë¯¼ê° ì •ë³´ í•˜ë“œì½”ë”© ì—†ìŒ
â–¡ API í‚¤ í™˜ê²½ ë³€ìˆ˜ë¡œ ì£¼ì…
â–¡ ì‚¬ìš©ì ì…ë ¥ ê²€ì¦
â–¡ SQL Injection ë°©ì§€
â–¡ ë¡œê¹…ì— ë¯¼ê° ì •ë³´ ë¯¸í¬í•¨
```

### 6. í…ŒìŠ¤íŠ¸
```
â–¡ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¡´ì¬
â–¡ ê²½ê³„ ì¡°ê±´ í…ŒìŠ¤íŠ¸
â–¡ ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
â–¡ Mock ì ì ˆíˆ ì‚¬ìš©
â–¡ í…ŒìŠ¤íŠ¸ ë…ë¦½ì„± ìœ ì§€
```

### 7. ë¬¸ì„œí™”
```
â–¡ ê³µê°œ APIì— ë¬¸ì„œí™” ì£¼ì„
â–¡ ë³µì¡í•œ ë¡œì§ì— ì„¤ëª… ì£¼ì„
â–¡ README ì—…ë°ì´íŠ¸ (í•„ìš”ì‹œ)
â–¡ CHANGELOG ì—…ë°ì´íŠ¸ (í•„ìš”ì‹œ)
```

## í”„ë¡œì„¸ìŠ¤

### Action 1: review-file
ë‹¨ì¼ íŒŒì¼ ì½”ë“œ ë¦¬ë·°

```
Step 1: íŒŒì¼ ì½ê¸°
  - íŒŒì¼ ë‚´ìš© ë¶„ì„
  - íŒŒì¼ ìœ í˜• ì‹ë³„ (Screen, Widget, UseCase ë“±)

Step 2: ì •ì  ë¶„ì„
  - Dart ë¶„ì„ ê·œì¹™ ì ìš©
  - í”„ë¡œì íŠ¸ ì»¨ë²¤ì…˜ í™•ì¸

Step 3: íŒ¨í„´ ê²€ì‚¬
  - Clean Architecture ì¤€ìˆ˜ ì—¬ë¶€
  - Flutter ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

Step 4: ë³´ì•ˆ ê²€ì‚¬
  - ë¯¼ê° ì •ë³´ ë…¸ì¶œ ì—¬ë¶€
  - ì…ë ¥ ê²€ì¦ ì—¬ë¶€

Step 5: ë¦¬ë·° ë¦¬í¬íŠ¸ ìƒì„±
```

### Action 2: review-pr
PR ì „ì²´ ë¦¬ë·°

```
Step 1: ë³€ê²½ íŒŒì¼ ëª©ë¡ ì¡°íšŒ
  - git diff ë¶„ì„
  - ë³€ê²½ ë²”ìœ„ íŒŒì•…

Step 2: íŒŒì¼ë³„ ë¦¬ë·° ì‹¤í–‰
  - ê° íŒŒì¼ ìˆœíšŒ
  - ë³€ê²½ ë¶€ë¶„ ì§‘ì¤‘ ë¶„ì„

Step 3: ì „ì²´ ì˜í–¥ë„ ë¶„ì„
  - ì˜ì¡´ì„± í™•ì¸
  - ì‚¬ì´ë“œ ì´í™íŠ¸ ê²€ì‚¬

Step 4: í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¸
  - ìƒˆ ì½”ë“œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì¡´ì¬ ì—¬ë¶€
  - ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì˜í–¥

Step 5: ì¢…í•© ë¦¬ë·° ë¦¬í¬íŠ¸
```

### Action 3: review-architecture
ì•„í‚¤í…ì²˜ ë ˆë²¨ ë¦¬ë·°

```
Step 1: ë””ë ‰í† ë¦¬ êµ¬ì¡° ë¶„ì„
  - ë ˆì´ì–´ ë¶„ë¦¬ í™•ì¸
  - íŒŒì¼ ìœ„ì¹˜ ì ì ˆì„±

Step 2: ì˜ì¡´ì„± ë¶„ì„
  - import ë¬¸ ê²€ì‚¬
  - ë ˆì´ì–´ ê°„ ì˜ì¡´ì„± ê·œì¹™ ê²€ì¦

Step 3: íŒ¨í„´ ì¼ê´€ì„±
  - UseCase íŒ¨í„´ ì¤€ìˆ˜
  - Repository íŒ¨í„´ ì¤€ìˆ˜
  - Provider íŒ¨í„´ ì¤€ìˆ˜

Step 4: ê°œì„  ê¶Œì¥ì‚¬í•­
```

### Action 4: auto-fix
ìë™ ìˆ˜ì • ê°€ëŠ¥í•œ ì´ìŠˆ í•´ê²°

```
Step 1: ìë™ ìˆ˜ì • ê°€ëŠ¥ ì´ìŠˆ ì‹ë³„
  - const ì¶”ê°€ ê°€ëŠ¥
  - import ì •ë¦¬
  - í¬ë§·íŒ… ì´ìŠˆ

Step 2: dart fix --apply ì‹¤í–‰

Step 3: dart format ì‹¤í–‰

Step 4: ë³€ê²½ ì‚¬í•­ ë¦¬í¬íŠ¸
```

## ë¦¬ë·° ì‹¬ê°ë„ ë ˆë²¨

| ë ˆë²¨ | ì•„ì´ì½˜ | ì„¤ëª… | ì¡°ì¹˜ |
|------|--------|------|------|
| Critical | ğŸ”´ | ë³´ì•ˆ ì·¨ì•½ì , ì‹¬ê°í•œ ë²„ê·¸ | ë°˜ë“œì‹œ ìˆ˜ì • |
| Major | ğŸŸ  | ì„±ëŠ¥ ì´ìŠˆ, ì•„í‚¤í…ì²˜ ìœ„ë°˜ | ìˆ˜ì • ê¶Œì¥ |
| Minor | ğŸŸ¡ | ì½”ë“œ ìŠ¤íƒ€ì¼, ë„¤ì´ë° | ê°œì„  ê¶Œì¥ |
| Info | ğŸ”µ | ì œì•ˆ, íŒ | ì°¸ê³  ì‚¬í•­ |

## ì¶œë ¥ í˜•ì‹

```
ğŸ“ Code Review Report

íŒŒì¼: lib/presentation/screens/diary_screen.dart
ë¦¬ë·°ì–´: Claude Code Reviewer

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š ìš”ì•½
â”œâ”€â”€ Critical: 0ê°œ
â”œâ”€â”€ Major: 2ê°œ
â”œâ”€â”€ Minor: 3ê°œ
â””â”€â”€ Info: 1ê°œ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸŸ  Major Issues

1. [Line 45] ë¶ˆí•„ìš”í•œ ë¦¬ë¹Œë“œ
   í˜„ì¬: Consumerê°€ ì „ì²´ í™”ë©´ì„ ê°ì‹¸ê³  ìˆìŒ
   ê°œì„ : select()ë¡œ í•„ìš”í•œ ë¶€ë¶„ë§Œ watch

   ```dart
   // Before
   Consumer(builder: (context, ref, _) { ... })

   // After
   final count = ref.watch(provider.select((s) => s.items.length));
   ```

2. [Line 78] dispose ëˆ„ë½
   StreamSubscriptionì´ disposeì—ì„œ ì·¨ì†Œë˜ì§€ ì•ŠìŒ

   ```dart
   @override
   void dispose() {
     _subscription?.cancel();
     super.dispose();
   }
   ```

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸŸ¡ Minor Issues

1. [Line 12] const ìƒì„±ì ì‚¬ìš© ê°€ëŠ¥
2. [Line 34] ë§¤ì§ ë„˜ë²„ 16 â†’ AppDimensions.padding ê¶Œì¥
3. [Line 56] ë³€ìˆ˜ëª… ê°œì„ : data â†’ diaryList

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”µ Info

1. [Line 89] ì´ ìœ„ì ¯ì€ ë³„ë„ íŒŒì¼ë¡œ ë¶„ë¦¬í•˜ë©´ ì¬ì‚¬ìš©ì„±ì´ ë†’ì•„ì§‘ë‹ˆë‹¤

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… ìë™ ìˆ˜ì • ê°€ëŠ¥:
   dart fix --apply && dart format .

ğŸ“ ë‹¤ìŒ ë‹¨ê³„:
   â””â”€â”€ /lint-fix ì‹¤í–‰ ê¶Œì¥
```

## ì‚¬ìš© ì˜ˆì‹œ

### íŒŒì¼ ë¦¬ë·°
```
> "/review lib/presentation/screens/diary_screen.dart"

AI ì‘ë‹µ:
1. íŒŒì¼ ë¶„ì„ ì™„ë£Œ
2. ë°œê²¬ëœ ì´ìŠˆ:
   - Major: 2ê°œ (ë¦¬ë¹Œë“œ, dispose)
   - Minor: 3ê°œ (const, ë§¤ì§ë„˜ë²„, ë„¤ì´ë°)
3. ê°œì„  ì½”ë“œ ì œì•ˆ
4. ìë™ ìˆ˜ì • ëª…ë ¹ì–´ ì•ˆë‚´
```

### PR ë¦¬ë·°
```
> "/review --pr 123"

AI ì‘ë‹µ:
1. ë³€ê²½ íŒŒì¼ 5ê°œ ë¶„ì„
2. íŒŒì¼ë³„ ë¦¬ë·° ê²°ê³¼:
   - diary_screen.dart: 2 issues
   - diary_repository.dart: 1 issue
   - ...
3. ì „ì²´ ì˜í–¥ë„ ë¶„ì„
4. ì¢…í•© ìŠ¹ì¸ ê¶Œì¥ ì—¬ë¶€
```

### ì•„í‚¤í…ì²˜ ë¦¬ë·°
```
> "/review --architecture"

AI ì‘ë‹µ:
1. ë ˆì´ì–´ êµ¬ì¡° ë¶„ì„
2. ì˜ì¡´ì„± ê·œì¹™ ê²€ì¦:
   - ìœ„ë°˜ 0ê±´
3. íŒ¨í„´ ì¼ê´€ì„±:
   - UseCase: 100% ì¤€ìˆ˜
   - Repository: 100% ì¤€ìˆ˜
4. ê°œì„  ê¶Œì¥ì‚¬í•­
```

## CI ì—°ë™

### GitHub Actions
```yaml
# .github/workflows/code-review.yml
name: Code Review

on:
  pull_request:
    branches: [main]

jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: subosito/flutter-action@v2
      - run: flutter pub get
      - name: Run Analysis
        run: flutter analyze --fatal-infos
      - name: Check Formatting
        run: dart format --output=none --set-exit-if-changed .
```

## ì—°ê´€ ìŠ¤í‚¬
- `/lint-fix` - ìë™ ìˆ˜ì • ì‹¤í–‰
- `/test-unit-gen` - í…ŒìŠ¤íŠ¸ ìƒì„±
- `/coverage` - ì»¤ë²„ë¦¬ì§€ í™•ì¸
- `/pre-commit` - pre-commit í›… ì„¤ì •

## ì£¼ì˜ì‚¬í•­
- ìë™ ë¦¬ë·°ëŠ” ìˆ˜ë™ ë¦¬ë·°ë¥¼ ëŒ€ì²´í•˜ì§€ ì•ŠìŒ
- ì»¨í…ìŠ¤íŠ¸ì— ë”°ë¼ ì˜ˆì™¸ í—ˆìš© ê°€ëŠ¥
- í”„ë¡œì íŠ¸ ì»¨ë²¤ì…˜ ìš°ì„ 
- ë¦¬ë·° ê²°ê³¼ëŠ” ê°€ì´ë“œë¼ì¸ (ì ˆëŒ€ ê·œì¹™ ì•„ë‹˜)
- íŒ€ í•©ì˜ëœ ì˜ˆì™¸ ì‚¬í•­ ì¡´ì¤‘
- ìƒˆ íŒ¨í„´ ë„ì… ì‹œ íŒ€ ë…¼ì˜ ê¶Œì¥
